<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en" dir="ltr">
	<head>
		<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
		<link href="/favicon.ico" rel="shortcut icon" type="image/vnd.microsoft.icon" />
		<meta name="generator" content="MediaWiki 1.16.0" />
<meta name="robots" content="noindex,nofollow" />
<link rel="next" href="http://praytimes.org/wiki/Code_Manual" />
<link rel="shortcut icon" href="/favicon.ico" />
<link rel="search" type="application/opensearchdescription+xml" href="/w/opensearch_desc.php" title="Pray Times (en)" />
<link rel="copyright" href="http://creativecommons.org/licenses/by-nc/3.0/" />
<link rel="alternate" type="application/atom+xml" title="Pray Times Atom feed" href="/w/index.php?title=Special:RecentChanges&amp;feed=atom" />		<title>View source - Pray Times</title>
		<style type="text/css" media="screen, projection">/*<![CDATA[*/
			@import "/w/skins/common/shared.css?270";
			@import "/w/skins/praytimes/main.css?270";
		/*]]>*/</style>
		<link rel="stylesheet" type="text/css" media="print" href="?270" />
		<!--[if lt IE 7]><meta http-equiv="imagetoolbar" content="no" /><![endif]-->
		
		<script>
var skin="praytimes",
stylepath="/w/skins",
wgUrlProtocols="http\\:\\/\\/|https\\:\\/\\/|ftp\\:\\/\\/|irc\\:\\/\\/|gopher\\:\\/\\/|telnet\\:\\/\\/|nntp\\:\\/\\/|worldwind\\:\\/\\/|mailto\\:|news\\:|svn\\:\\/\\/",
wgArticlePath="/wiki/$1",
wgScriptPath="/w",
wgScriptExtension=".php",
wgScript="/w/index.php",
wgVariantArticlePath=false,
wgActionPaths={},
wgServer="http://praytimes.org",
wgCanonicalNamespace="",
wgCanonicalSpecialPageName=false,
wgNamespaceNumber=0,
wgPageName="Code_Manual",
wgTitle="Code Manual",
wgAction="edit",
wgArticleId=10,
wgIsArticle=false,
wgUserName=null,
wgUserGroups=null,
wgUserLanguage="en",
wgContentLanguage="en",
wgBreakFrames=false,
wgCurRevisionId=355,
wgVersion="1.16.0",
wgEnableAPI=true,
wgEnableWriteAPI=true,
wgSeparatorTransformTable=["", ""],
wgDigitTransformTable=["", ""],
wgMainPageTitle="Main Page",
wgFormattedNamespaces={"-2": "Media", "-1": "Special", "0": "", "1": "Talk", "2": "User", "3": "User talk", "4": "Pray Times", "5": "Pray Times talk", "6": "File", "7": "File talk", "8": "MediaWiki", "9": "MediaWiki talk", "10": "Template", "11": "Template talk", "12": "Help", "13": "Help talk", "14": "Category", "15": "Category talk"},
wgNamespaceIds={"media": -2, "special": -1, "": 0, "talk": 1, "user": 2, "user_talk": 3, "pray_times": 4, "pray_times_talk": 5, "file": 6, "file_talk": 7, "mediawiki": 8, "mediawiki_talk": 9, "template": 10, "template_talk": 11, "help": 12, "help_talk": 13, "category": 14, "category_talk": 15, "image": 6, "image_talk": 7},
wgSiteName="Pray Times",
wgCategories=[],
wgRestrictionEdit=["sysop"],
wgRestrictionMove=["sysop"];
</script>                
		<script type="text/javascript" src="/w/skins/common/wikibits.js?270"><!-- wikibits js --></script>
		<!-- Head Scripts -->
<script src="/w/skins/common/edit.js?270"></script>
<script src="/w/skins/common/ajax.js?270"></script>
		<script type="text/javascript" src="/w/index.php?title=-&amp;action=raw&amp;gen=js&amp;useskin=praytimes"><!-- site js --></script>
	</head>
  <body                 >
	<div id="titleBar">
		<div id="titleText"><a href="/" title="Main Page">
			<span style="color:#173A7B">PrayTimes</span><span style="color:#66f; font-size:smaller;">.org</span>
		</a></div>
	</div>
    <div id="globalWrapper">
      <div id="column-content">
	<div id="content">
	  <a name="top" id="contentTop"></a>
	  	  <h1 class="firstHeading">Code Manual</h1>
	  <div id="bodyContent">
	    <h3 id="siteSub">From Pray Times</h3>
	    <div id="contentSub">for <a href="/wiki/Code_Manual" title="Code Manual">Code Manual</a></div>
	    	    	    <!-- start content -->
	    <p>You do not have permission to edit this page, for the following reasons:
</p>
<ul class="permissions-errors">
<li>The action you have requested is limited to users in the group: <a href="/w/index.php?title=Pray_Times:Users&amp;action=edit&amp;redlink=1" class="new" title="Pray Times:Users (page does not exist)">Users</a>.</li>
<li>This page has been locked to prevent editing.</li>
</ul>
<p>You can view and copy the source of this page:
</p><textarea id="wpTextbox1" name="wpTextbox1" cols="80" rows="25" readonly="">Pray Times provides a set of handy functions to calculate prayer times for any location around the world, based on a variety of calculation methods currently used in Muslim communities. 

The code is originally written in JavaScript. This manual provides information on how to use the code on a web-page or a JavaScript-based application to display prayer times.

== Downloads and Examples ==

'''Download''':
* Code: [http://praytimes.org/code/v2/js/PrayTimes.js PrayTimes.js] (3 KB, minified and gzipped)
* Version: 2.3 (see [[Code ChangeLog|changes log]])
* License: [http://www.gnu.org/licenses/lgpl.html GNU LGPL v3]

'''Examples''': 
* A simple example: [http://praytimes.org/code/v2/js/examples/simple.htm simple.htm]
* Monthly timetable: [http://praytimes.org/code/v2/js/examples/monthly.htm monthly.htm]
* Yearly prayer times: [http://praytimes.org/code/v2/js/examples/yearly.htm yearly.htm]

'''See Also''': 
* Older Version: [[Code Manual (ver 1)| Version 1]]
* [[Code|Code in Other Languages]] (Python, PHP, Java, Objective-C, C#, etc.)

== General Usage ==


The first step for using PrayTimes in a web-page or widget is to include it using a line like this:

  &lt;script type="text/javascript" src="PrayTimes.js">&lt;/script> 

After including PrayTimes.js, an object named prayTimes is created and is ready to use. We can immediately get the prayer times (using the default settings) from this object. For example, to get today's prayer times for a location with latitude 43, longitude -80, and time zone -5, we can call:

  prayTimes.getTimes(new Date(), [43, -80], -5);

There are several functions for adjusting calculation parameters. For example, we can call the following function (before calling &lt;code>getTimes&lt;/code>) to change the calculation method to ISNA:

  prayTimes.setMethod('ISNA'); 

Details of the functions available in PrayTimes along with their description are provided below.

== Get Prayer Times ==

The following function is used to retrieve prayer times for a given date and location:  

:&lt;code>'''getTimes''' (date, coordinates, timezone, dst, format)&lt;/code>

The input parameters are described below:

; date: The date for which prayer times are calculated. You can use &lt;code>new Date()&lt;/code> to specify today. Date can be also entered as a triple &lt;code>[year, month, day]&lt;/code>. For example, &lt;code>[2009, 2, 26]&lt;/code> specifies February 26, 2009.

; coordinates: Specifies the coordinates of the input location as a triple &lt;code>[latitude, longitude, elevation]&lt;/code>. Latitude is a real number between -90 and 90, longitude is between -180 and 180, and elevation is a positive number, specifying the height in meters with respect to the surrounding terrain. The elevation parameter is optional. Examples of valid coordinates are &lt;code>[-43.2, 80.6]&lt;/code> and &lt;code>[12.5, -25.8, 300]&lt;/code>.

; timezone: The difference to Greenwich time (GMT) in hours. If omitted or set to 'auto', &lt;code>timezone&lt;/code> is extracted from the system.

; dst: Daylight Saving Time: 1 if date is in daylight saving time, 0 otherwise. If omitted or set to 'auto', &lt;code>dst&lt;/code> is extracted from the system.

; format: Output time format, according to the following table:

{| class="wikitable" style="margin: 1em 2.25em 0;"
!Format 	
!Description
!Example
|-
| 24h || 24-hour time format || 16:45
|-
| 12h || 12-hour time format || 4:45 pm
|-
| 12hNS || 12-hour format with no suffix &amp;nbsp; || 4:45
|-
| Float || Floating point number || 16.75
|}

&lt;u>'''Return Value'''&lt;/u>

&lt;code>getTimes&lt;/code> return an associative array containing 9 prayer times (see [[calculation| here]] for the list of times and their definition). Each time can be accessed thorough its name. For example, if the output of &lt;code>getTimes&lt;/code> function is stored in an object &lt;code>times&lt;/code>, the time for sunrise can be accessed through &lt;code>times.sunrise&lt;/code>. 

&lt;u>'''Example'''&lt;/u>
&lt;pre>
 var times = prayTimes.getTimes(new Date(), [43, -80], -5);
 document.write('Sunrise : '+ times.sunrise)
&lt;/pre>

== Set Calculation Method ==

There are several conventions for calculating prayer times. The default convention used in PrayTimes is Muslim World League. You can change the calculation method using the following function: 

:&lt;code>'''setMethod''' (method)&lt;/code>

&lt;code>method&lt;/code> can be any of the followings:

{| class="wikitable" style="margin: 1em 2.25em 0;"
!Method
!Description
|-
| MWL || Muslim World League
|-
| ISNA || Islamic Society of North America
|-
| Egypt || Egyptian General Authority of Survey
|-
| Makkah || Umm al-Qura University, Makkah
|-
| Karachi || University of Islamic Sciences, Karachi
|-
| Tehran || Institute of Geophysics, University of Tehran
|-
| Jafari || Shia Ithna Ashari (Ja`fari)
|}


More information on the above calculation methods is provided [[Calculation Methods|here]].


&lt;u>'''Example'''&lt;/u>

  prayTimes.setMethod('Makkah');

== Adjusting Parameters ==

The calculating parameters can be adjusted using the following function: 

:&lt;code>'''adjust''' (parameters)&lt;/code>

&lt;code>parameters&lt;/code> is an associative array composed of any number of the following parameters:

{| class="wikitable" style="margin: 1em 2.25em 0;"
!Parameter
!Values
!Description
!Sample Value 
|-
| rowspan="2" | imsak 
| degrees &amp;nbsp; || twilight angle || 18
|-
| minutes || minutes before fajr || 10 min
|-
| fajr || degrees || twilight angle || 15
|-
| dhuhr || minutes || minutes after mid-day || 1 min
|-
| rowspan="2" | asr
| method || asr juristic method; see the table below || Standard
|- 
| factor || shadow length factor for realizing asr || 1.7
|-
| rowspan="2" | maghrib
| degrees || twilight angle || 4
|-
| minutes || minutes after sunset || 15 min
|-
| rowspan="2" | isha
| degrees || twilight angle || 18
|-
| minutes || minutes after maghrib || 90 min
|-
| midnight || method || midnight method; see the table below || Standard
|-
| highLats || method ||higher latitudes adjustment; see below  || None
|}


;asr methods:

{| class="wikitable" style="margin: 1em 2.25em 0;"
!Method
!Description  ([[Calculation#Asr|more info]])
|-
| Standard || Shafii, Maliki, Jafari and Hanbali (shadow factor = 1)
|-
| Hanafi || Hanafi school of tought (shadow factor = 2)
|}


; midnight methods:

{| class="wikitable" style="margin: 1em 2.25em 0;"
!Method
!Description
|-
| Standard || The mean time from Sunset to Sunrise
|-
| Jafari || The mean time from Maghrib to Fajr
|}


; higher latitudes methods: 

{| class="wikitable" style="margin: 1em 2.25em 0;"
!Method
!Description  ([[Calculation#Higher_Latitudes|more info]])
|-
| None || No adjustments
|-
| NightMiddle || The middle of the night method
|-
| OneSeventh || The 1/7th of the night method
|-
| AngleBased || The angle-based method (recommended)
|}


&lt;u>'''Example'''&lt;/u>

  prayTimes.adjust( {fajr: 16, dhuhr: '5 min', asr: 'Hanafi', isha: 15} );

== Tuning Times ==

You can further tune calculated prayer times (for precaution) using the following function: 

:&lt;code>'''tune''' (offsets)&lt;/code>

where &lt;code>offsets&lt;/code> is an associative array containing time offsets in minutes for each prayer time. 


&lt;u>'''Example'''&lt;/u>

  prayTimes.tune( {sunrise: -1, sunset: 3.5} );

&lt;blockquote>
'''Notes''':
* By default, PrayTimes rounds minutes to the nearest values. To round a specific time up, you can tune it by&amp;nbsp;+0.5 minutes, and to round it down, you can tune it by&amp;nbsp;-0.5 minutes.
* Tuning is the last step after calculating step, and thus, it has no effect on the calculation parameters. For example, if Isha is set to be 90 minutes after sunset, tuning sunset by 5 minutes will not push Isha forward.
&lt;/blockquote>


[[Category:Code]]</textarea><div class='templatesUsed'>

</div>
<p id="mw-returnto">Return to <a href="/wiki/Code_Manual" title="Code Manual">Code Manual</a>.</p>
<div class="printfooter">
Retrieved from "<a href="http://praytimes.org/wiki/Code_Manual">http://praytimes.org/wiki/Code_Manual</a>"</div>
	    <div id="catlinkswrap"><div id='catlinks' class='catlinks catlinks-allhidden'></div></div>	    <!-- end content -->
	    <div class="visualClear"></div>
	  </div>
	</div>
      </div>
      <div id="column-one">
	<div class="portlet" id="p-logo">
	  <a style="background-image: url(/w/skins/common/images/wiki.png);"
	    href="/wiki/Main_Page"
	    title="Main Page"></a>
	</div>
	<script type="text/javascript"> if (window.isMSIE55) fixalpha(); </script>
		<div class='portlet' id='p-Site'>
	  <h5>Site</h5>
	  <div class='pBody'>
	    <ul>
	    	      <li id="n-Home"><a href="http://praytimes.org/">Home</a></li>
	     	      <li id="n-Calculation"><a href="http://praytimes.org/calculation">Calculation</a></li>
	     	      <li id="n-Manual"><a href="http://praytimes.org/manual">Manual</a></li>
	     	      <li id="n-Code"><a href="http://praytimes.org/code/">Code</a></li>
	     	      <li id="n-Audio"><a href="http://praytimes.org/audio/">Audio</a></li>
	     	      <li id="n-About"><a href="http://praytimes.org/about">About</a></li>
	     	      <li id="n-Contact"><a href="http://praytimes.org/contact">Contact</a></li>
	     	    </ul>
	  </div>
	</div>
		<div id="p-search" class="portlet">
	  <h5><label for="searchInput">Search</label></h5>
	  <div class="pBody">
	    <form name="searchform" action="/wiki/Special:Search" id="searchform">
	      <input id="searchInput" name="search" type="text"
	        accesskey="f" value="" />
	      <input type='submit' name="go" class="searchButton" id="searchGoButton"
	        value="Go"
	        />&nbsp;<input type='submit' name="fulltext"
	        class="searchButton"
	        value="Search" />
	    </form>
	  </div>
	</div>
	<div class="portlet" id="p-tb">
	  <h5>Toolbox</h5>
	  <div class="pBody">
	    <ul>
		  		  <li id="t-whatlinkshere"><a href="/wiki/Special:WhatLinksHere/Code_Manual">What links here</a></li>
		  		  <li id="t-recentchangeslinked"><a href="/wiki/Special:RecentChangesLinked/Code_Manual">Related changes</a></li>
		                	      	      	      	      	      	      	      	      	      <li id="t-specialpages"><a href="/wiki/Special:SpecialPages">Special pages</a></li>	      	      	    </ul>
	  </div>
	</div>
	<div id="p-cactions" class="portlet">
	  <h5>Views</h5>
	  <ul>
	    <li id="ca-nstab-main"
	       class="selected"	       ><a href="/wiki/Code_Manual">Page</a></li><li id="ca-talk"
	       class="new"	       ><a href="/w/index.php?title=Talk:Code_Manual&amp;action=edit&amp;redlink=1">Discussion</a></li><li id="ca-viewsource"
	       class="selected"	       ><a href="/w/index.php?title=Code_Manual&amp;action=edit">View source</a></li><li id="ca-history"
	       	       ><a href="/w/index.php?title=Code_Manual&amp;action=history">History</a></li>	  </ul>
	</div>
	<div class="portlet" id="p-personal">
	  <h5>Personal tools</h5>
	  <div class="pBody">
	    <ul>
	    <li id="pt-anonuserpage"><a href="/wiki/User:77.30.104.229" class="new">77.30.104.229</a></li><li id="pt-anontalk"><a href="/wiki/User_talk:77.30.104.229" class="new">Talk for this IP address</a></li><li id="pt-anonlogin"><a href="/w/index.php?title=Special:UserLogin&amp;returnto=Code_Manual&amp;returntoquery=action%3Dedit">Log in</a></li>	    </ul>
	  </div>
	</div>
	<!--
	-->
	      </div><!-- end of the left (by default at least) column -->
      <div class="visualClear"></div>
      <div id="footer">
		<table width = "100%">
			<tr><td width="5%" align="left" nowrap='nowrap'><div id="f-copyrightico"><a href="http://creativecommons.org/licenses/by-nc/3.0/"><img src="http://i.creativecommons.org/l/by-nc/3.0/88x31.png" alt="Attribution-NonCommercial 3.0 Unported" width="88" height="31" /></a></div></td>
				<td align="center">
	  Copyright &copy; 2007-2020 <a href="http://PrayTimes.org/">PrayTimes.org</a> -
	   	  	  	  	  <a href="http://www.ipbwiki.com/forums/index.php?showtopic=403">Skin</a> - 
	  	  <a href="/wiki/Pray_Times:General_disclaimer" title="Pray Times:General disclaimer">Disclaimers</a> - 	  <a href="/wiki/Pray_Times:About" title="Pray Times:About">About Pray Times</a>	</td>
			<td width="5%" align="right" nowrap='nowrap'><div id="f-poweredbyico"><a href="http://www.mediawiki.org/"><img src="/w/skins/common/images/poweredby_mediawiki_88x31.png" height="31" width="88" alt="Powered by MediaWiki" /></a></div></td></tr></table>
      </div>
    </div>
    <!-- Served in 0.077 secs. -->  </body>
</html>
